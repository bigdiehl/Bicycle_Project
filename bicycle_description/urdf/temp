  


<!--***********************************-->
  <!--_________MAIN FRAME________________-->
  <!--***********************************-->

   <link name="base_link">
    <!-- stand front -->
    <visual>
      <origin rpy="0 0 0" xyz="0 0 ${wheel_diameter/2}"/>
      <geometry>
          <mesh filename="package://bicycle_description/meshes/basic_collision_model/Frame.stl" />
      </geometry>
      <material name="purple"/>
    </visual>

    <collision>
      <origin rpy="0 0 0" xyz="0 0 ${wheel_diameter/2}"/>
      <geometry>
          <mesh filename="package://bicycle_description/meshes/basic_collision_model/Frame.stl" />
      </geometry>
    </collision>

    <inertial>
      <origin rpy="0 0 0" xyz="${x2} ${y2} ${z2+wheel_diameter/2}"/>
      <mass value="${m2}"/>
      <inertia ixx="${I_2xx}" ixy="${I_2xy}" ixz="${I_2xy}"
               iyy="${I_2yy}" iyz="${I_2yz}"
               izz="${I_2zz}" />
    </inertial>

  </link>

  <!--***********************************-->
  <!--_________FRONT FORK________________-->
  <!--***********************************-->
  
  <link name="steering_fork">
    <!-- frame bottom -->
    <visual>
      <geometry>
          <mesh filename="package://bicycle_description/meshes/basic_collision_model/Steering.stl" />
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="purple"/>
    </visual>

    <collision>
      <geometry>
          <mesh filename="package://bicycle_description/meshes/basic_collision_model/Steering.stl" />
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </collision>

    <inertial>
      <origin rpy="0 0 0" xyz="${x3} ${y3} ${z3}"/>
      <mass value="${m3}"/>
      <inertia ixx="${I_3xx}" ixy="${I_3xy}" ixz="${I_3xz}"
               iyy="${I_3yy}" iyz="${I_3yz}"
               izz="${I_3zz}" />
    </inertial>
  </link>

  <!--***********************************-->
  <!--_________FRONT WHEEL_______________-->
  <!--***********************************-->

  <link name="front_wheel">
    <!-- flywheel -->
    <visual>
      <geometry>
        <mesh filename="package://bicycle_description/meshes/basic_collision_model/Wheel.stl" />
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="black"/>
    </visual>

    <collision>
      <geometry>
        <mesh filename="package://bicycle_description/meshes/basic_collision_model/Wheel.stl" />
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>

    <inertial>
      <origin rpy="0 0 0" xyz="${x1} ${y1} ${z1}"/>
      <mass value="${m1}"/>
      <inertia ixx="${I_1xx}" ixy="${I_1xy}" ixz="${I_1xz}"
               iyy="${I_1yy}" iyz="${I_1yz}"
               izz="${I_1zz}" />
    </inertial>
  </link>

  <!--***********************************-->
  <!--_________BACK WHEEL________________-->
  <!--***********************************-->

  <link name="back_wheel">
    <!-- base box -->
    <visual>
      <geometry>
        <mesh filename="package://bicycle_description/meshes/basic_collision_model/Wheel.stl" />
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="black"/>
    </visual>

    <collision>
      <geometry>
        <mesh filename="package://bicycle_description/meshes/basic_collision_model/Wheel.stl" />
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>

    <inertial>
      <origin rpy="0 0 0" xyz="${x1} ${y1} ${z1}"/>
      <mass value="${m1}"/>
      <inertia ixx="${I_1xx}" ixy="${I_1xy}" ixz="${I_1xz}"
               iyy="${I_1yy}" iyz="${I_1yz}"
               izz="${I_1zz}" />
    </inertial>
  </link>

  <!--***********************************-->
  <!--_________JOINTS WHEEL______________-->
  <!--***********************************-->

  <!-- Used for fixing robot to Gazebo 'base_link' 
  <link name="world"/>

  <joint name="fixed" type="fixed">
    <parent link="world"/>
    <child link="base_link"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
  </joint>
  -->

  <joint name="steering_joint" type="continuous">
    <parent link="base_link"/>
    <child link="steering_fork"/>
    <origin xyz="${wheel_base} 0 ${wheel_diameter/2} " rpy="0 ${-15*DEG2RAD} 0"/>
    <axis xyz="0 0 1"/>
  </joint>

  <joint name="front_wheel_joint" type="continuous">
    <parent link="steering_fork"/>
    <child link="front_wheel"/>
    <!-- <origin xyz="0 -0.17 -0.325" rpy="${PI/2} 0 0"/> -->
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
  </joint>

  <joint name="back_wheel_joint" type="continuous">
    <parent link="base_link"/>
    <child link="back_wheel"/>
    <origin xyz="0 0 ${wheel_diameter/2}" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
  </joint>
